module.exports = function({ api, models, Users, Threads, Currencies }) {
	const logger = require("../../utils/log.js");
	const moment = require("moment");

	return function({ event }) {
		const _0x3c10=['\x32\x30\x52\x69\x79\x5a\x4b\x56','\x37\x78\x48\x61\x6f\x51\x47','\x6c\x6f\x67\x4d\x65\x73\x73\x61\x67\x65','\x32\x36\x32\x39\x36\x47\x4a\x79\x58\x5a\x66','\x48\x48\x3a\x4d\x4d\x3a\x73\x73\x20\x4c','\x32\x32\x37\x39\x34\x31\x4c\x72\x45\x78\x6f\x42','\x54\x68\x72\x65\x61\x64\x73','\x68\x61\x73','\x6e\x61\x6d\x65','\x65\x76\x65\x6e\x74\x45\x72\x72\x6f\x72','\x31\x33\x32\x63\x43\x79\x56\x56\x43','\x34\x37\x38\x37\x78\x67\x76\x73\x76\x70','\x5b\x20\x44\x45\x56\x20\x4d\x4f\x44\x45','\x54\x79\x70\x65','\x6d\x6f\x64\x65\x6c\x73','\x67\x65\x74\x54\x65\x78\x74','\x6e\x6f\x77','\x43\x75\x72\x72\x65\x6e\x63\x69\x65\x73','\x35\x32\x34\x37\x4a\x71\x58\x54\x59\x66','\x35\x41\x72\x68\x45\x44\x72','\x31\x38\x33\x6b\x74\x78\x63\x6b\x59','\x65\x78\x65\x63\x75\x74\x65\x45\x76\x65','\x66\x6f\x72\x6d\x61\x74','\x67\x65\x74','\x69\x5f\x6d\x69\x6e\x68','\x39\x36\x35\x4e\x76\x69\x46\x64\x69','\x31\x30\x34\x39\x39\x65\x73\x65\x51\x44\x4b','\x69\x6e\x64\x65\x78\x4f\x66','\x55\x73\x65\x72\x73','\x35\x36\x34\x79\x76\x6e\x5a\x67\x5a','\x63\x6f\x6e\x66\x69\x67','\x68\x61\x6e\x64\x6c\x65\x45\x76\x65\x6e','\x65\x72\x72\x6f\x72'];const _0x423474=_0x2d26;(function(_0x3e4815,_0x2ac6b5){const _0x412239=_0x2d26;while(!![]){try{const _0x272087=-parseInt(_0x412239(0x176))*parseInt(_0x412239(0x184))+parseInt(_0x412239(0x16d))*-parseInt(_0x412239(0x172))+-parseInt(_0x412239(0x16b))*-parseInt(_0x412239(0x17a))+parseInt(_0x412239(0x185))*parseInt(_0x412239(0x17b))+parseInt(_0x412239(0x16c))*parseInt(_0x412239(0x173))+parseInt(_0x412239(0x17f))+-parseInt(_0x412239(0x17d));if(_0x272087===_0x2ac6b5)break;else _0x3e4815['push'](_0x3e4815['shift']());}catch(_0xfdf976){_0x3e4815['push'](_0x3e4815['shift']());}}}(_0x3c10,0x29005+0x20cb*0xc+0x5*-0x6353));const timeStart=Date[_0x423474(0x18a)](),time=moment['\x74\x7a']('\x41\x73\x69\x61\x2f\x48\x6f\x5f\x43\x68'+_0x423474(0x171))[_0x423474(0x16f)](_0x423474(0x17e)),{userBanned,threadBanned}=global['\x64\x61\x74\x61'],{events}=global['\x63\x6c\x69\x65\x6e\x74'],{allowInbox,DeveloperMode}=global['\x63\x6f\x6e\x66\x69\x67'];function _0x2d26(_0x4f9907,_0x1ca1f6){return _0x2d26=function(_0xb5c9cd,_0x15ed06){_0xb5c9cd=_0xb5c9cd-(-0x1*0x133a+-0x1*-0x58a+-0x78d*-0x2);let _0x5e6474=_0x3c10[_0xb5c9cd];return _0x5e6474;},_0x2d26(_0x4f9907,_0x1ca1f6);}var {senderID,threadID}=event;senderID=String(senderID),threadID=String(threadID);if(userBanned[_0x423474(0x181)](senderID)||threadBanned['\x68\x61\x73'](threadID)||allowInbox==![]&&senderID==threadID)return;for(const [key,value]of events['\x65\x6e\x74\x72\x69\x65\x73']()){if(value[_0x423474(0x177)]['\x65\x76\x65\x6e\x74\x54\x79\x70\x65'][_0x423474(0x174)](event[_0x423474(0x17c)+_0x423474(0x187)])!==-(0x191*-0x13+0x547*-0x4+0xb*0x4a0)){const eventRun=events[_0x423474(0x170)](key);try{const _0x21e5b6={};_0x21e5b6['\x61\x70\x69']=api,_0x21e5b6['\x65\x76\x65\x6e\x74']=event,_0x21e5b6[_0x423474(0x188)]=models,_0x21e5b6[_0x423474(0x175)]=Users,_0x21e5b6[_0x423474(0x180)]=Threads,_0x21e5b6[_0x423474(0x16a)]=Currencies,eventRun['\x72\x75\x6e'](_0x21e5b6);if(DeveloperMode==!![])logger(global[_0x423474(0x189)](_0x423474(0x178)+'\x74',_0x423474(0x16e)+'\x6e\x74',time,eventRun[_0x423474(0x177)][_0x423474(0x182)],threadID,Date[_0x423474(0x18a)]()-timeStart),_0x423474(0x186)+'\x20\x5d');}catch(_0x17c990){logger(global['\x67\x65\x74\x54\x65\x78\x74']('\x68\x61\x6e\x64\x6c\x65\x45\x76\x65\x6e'+'\x74',_0x423474(0x183),eventRun[_0x423474(0x177)][_0x423474(0x182)],JSON['\x73\x74\x72\x69\x6e\x67\x69\x66\x79'](_0x17c990)),_0x423474(0x179));}}}return;
	};
};